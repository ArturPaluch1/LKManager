<!DOCTYPE html>
<html lang="en" th:replace="~{fragments/layout :: layout (~{::body},'home')}" xmlns:th="http://www.w3.org/1999/xhtml">
<head>

    <meta charset="UTF-8">
    <title>Title</title>


</head>
<body>


<div style="float:left">
    <button id="bob"  onclick="myFunction()">Skopiuj</button>
</div>




<div style="float: right;">
    <form th:action="@{/tabela}" method="get" >
        <select  th:name="wybranyTerminarz"  onchange="this.form.submit()" >
            <option value="" selected>--Wybierz terminarz--</option>
            <option th:each="terminarz : ${terminarze}" th:value="${terminarz.getName()}" th:text="${terminarz.getName()}" />

        </select>
    </form>
    <div>
        <label>Wybrany terminarz: </label>
        <label th:text="${wybranyTerminarz}"></label>
    </div>

</div>


<table class="table table-striped" id="tabela" border="1" >
    <thead align="center">
    <tr id="naglowek" >

        <th style="width: 200px" class="text-center">Miejsce</th>
        <th style="width: 200px" class="text-center">Drużyna </th>
        <th style="width: 150px" class="text-center">user</th>
        <th style="width: 15px"  class="text-center">Punkty</th>
        <th style="width: 10px"  class="text-center"> Różnica </th>
        <th style="width: 5px"  class="text-center"> Strzelone </th>
        <th style="width: 15px"  class="text-center"> Stracone </th>


    <tr>
    </thead>
    <tbody id="tabela-zawartosc"align="center">


    <tr th:each="item : ${tabela}" >
        <td  class="counterCell" th:text="${tabela.indexOf(item)+1}"></td>
        <td th:text="${item. getGracz().getTeamlist().get(0).getTeamName()}" >Drużyna</td>
        <td th:text="${item. getGracz().getUsername()}" >user</td>
        <td th:text="${item.getSumaPunktow()} ">Punkty</td>
        <td th:text="${item. getRoznica()}" >Różnica</td>
        <td th:text="${item. getGoleStrzelone()}" >Strzelone</td>
        <td th:text="${item. getGoleStracone()}" >Stracone</td>


    </tr>
    </tbody>

</table>


<script>
/*
https://jsfiddle.net/
*/

 function myFunction() {
        var result = "";
     var tempstring = "";
     var tempwyniki = "";

     var tabela = document.getElementById("tabela-zawartosc");



/*var naglowek = document.getElementById("naglowek");
var naglowekDruzyna="";
 for (let i in naglowek.rows) {
       let row = naglowek.rows[i];



       for (let j in row.cells) {
         let col = row.cells[j];

      console.log(j + "_" + row.cells[j].textContent);
      switch(j)
      {
      case "0":
      {
      tempstring+= row.cells[j].textContent;
      break;}

      case "1": {naglowekDruzyna+=row.cells[j].textContent; break;}

      case "2": {naglowekDruzyna+="("+row.cells[j].textContent+")"; break;}



}}}*/

tempstring+="Miejsce Punkty Różnica Strzelone Stracone Drużyna \r\n"


 //console.log(data+ data.textContent);



 //console.log(data+ data.textContent);

 var user="";


    // let pierwszy = true;
     for (let i in tabela.rows) {
       let row = tabela.rows[i];



       for (let j in row.cells) {
         let col = row.cells[j];

      console.log(j + "_" + row.cells[j].textContent);




//console.log(j );

         switch (j) {
           //miejsce
           case "0": {
           i=parseInt(i)+1;
    if(i<10)  tempstring += i+"         ";
    else   tempstring += i+"        ";

             break;
           }
                        //team
           case "1": {
           user +=  row.cells[j].textContent +"";
             break;
           }
           //user
           case "2": {
           user+=" ("+row.cells[j].textContent + ")" + "\r\n"
           //  tempstring += row.cells[j].textContent + ":";
             break;
           }
           //punkty
           case "3": {
             if(row.cells[j].textContent>99)
           {
            tempstring+= row.cells[j].textContent + "     ";
           }
           else if(row.cells[j].textContent>9)
           {
            tempstring+= row.cells[j].textContent + "      ";
           }

           else
           {
             tempstring+= row.cells[j].textContent + "       ";
           }

             //tempstring += row.cells[j].textContent + "   ";
             break;
           }
           //roznica
           case "4": {
              if(row.cells[j].textContent>99)
           {
            tempstring+= row.cells[j].textContent + "     ";
           }
           else if(row.cells[j].textContent>9)
           {
            tempstring+= row.cells[j].textContent + "      ";
           }
            else if(row.cells[j].textContent<-99)
           {
           tempstring+=row.cells[j].textContent +"     ";
           }
           else if(row.cells[j].textContent<-9)
           {
            tempstring+= row.cells[j].textContent + "     ";
           }
            else if(row.cells[j].textContent<0)
           {
            tempstring+= row.cells[j].textContent + "      ";
           }

           else
           {
             tempstring+= row.cells[j].textContent + "       ";
           }

             //tempstring += row.cells[j].textContent + "   ";
             break;
           }
           //strzlone
           case "5": {
              if(row.cells[j].textContent>99)
           {
            tempstring+= row.cells[j].textContent + "     ";
           }
           else if(row.cells[j].textContent>9)
           {
            tempstring+= row.cells[j].textContent + "      ";
           }
            else if(row.cells[j].textContent<-99)
           {
           tempstring+=row.cells[j].textContent +"     ";
           }
           else if(row.cells[j].textContent<-9)
           {
            tempstring+= row.cells[j].textContent + "     ";
           }
            else if(row.cells[j].textContent<0)
           {
            tempstring+= row.cells[j].textContent + "      ";
           }

           else
           {
             tempstring+= row.cells[j].textContent + "       ";
           }

             //tempstring += row.cells[j].textContent + "   ";
             break;
           }
           //stracone
           case "6": {

            if(row.cells[j].textContent>99)
           {
            tempstring+= row.cells[j].textContent + "       ";
           }
          else if(row.cells[j].textContent>9)
           {
            tempstring+= row.cells[j].textContent + "        ";
           }
           else if(row.cells[j].textContent<-99)
           {
           tempstring+=row.cells[j].textContent +"     ";
           }
            else if(row.cells[j].textContent<-9)
           {
           tempstring+=row.cells[j].textContent +"       ";
           }
             else if(row.cells[j].textContent<0)
           {
           tempstring+=row.cells[j].textContent +"         ";
           }
           else
           {
               tempstring+=row.cells[j].textContent +"         ";
           }

             //tempstring += row.cells[j].textContent + ":";
             tempstring+=user;
             user="";
             break;
           }

         }


       }


     }
     tempstring += "\r\n";

   console.log(tempstring);
   navigator.clipboard.writeText(tempstring);
   alert("Copied the text: " + tempstring);


}
</script>
</body>
</html>

